import randomimport asyncioimport websocketsfrom time import sleepasync def sendMsg(websocket, path):    for x in range(0, 10):        rand_number = random.randint(1, 1000)        sleep(0.5)        await websocket.send(str(rand_number))    await websocket.send(str("done!"));async def main(websocket, path):    name = await websocket.recv()    print(f" {name}")    send = asyncio.ensure_future(sendMsg(websocket, path))    print("main asyncio start")    asyncio.as_completed((send))# 웹 소켓 서버 생성.호스트는 localhost에 port는 9998로 생성한다.start_server = websockets.serve(main, "localhost", 9998)# 비동기로 서버를 대기한다.asyncio.get_event_loop().run_until_complete(start_server)asyncio.get_event_loop().run_forever()